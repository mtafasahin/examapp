<div class="ms-wizard-container">
  <div class="ms-wizard-header">
    <div class="ms-wizard-title">
      <b>Soru {{ stepIndex() + 1 }}</b>
    </div>
    <div class="ms-wizard-progress">
      <div class="ms-progress-text">{{ stepIndex() + 1 }} / {{ stepList.length }}</div>
      <div class="ms-progress-bar-bg">
        <div class="ms-progress-bar-fill" [style.width]="((stepIndex() + 1) / stepList.length) * 100 + '%'"></div>
      </div>
    </div>
  </div>

  <div class="ms-wizard-question">
    {{ currentStep.description }}
  </div>

  <div class="ms-wizard-cards" #cardContainer>
    <button class="nav-btn left" (click)="previous()">❮</button>

    <ul class="psds-carousel__track">
      <li class="psds-carousel__item m-5">
        <button
          *ngFor="let opt of currentStep.options"
          class="ms-option-button"
          [class.ms-option-active]="opt.selected"
          (click)="selectOption(currentStep, opt)"
        >
          <img [src]="opt.icon" alt="Timer Icon" class="ms-option-icon" />
          <b class="ms-option-label">{{ opt.label }}</b>
        </button>
        <div class="course-actions">
          <button
            *ngFor="let act of currentStep.actions"
            mat-raised-button
            color="primary"
            type="button"
            (click)="takeAction(act.value)"
          >
            <mat-icon>playlist_add</mat-icon>{{ act.label }}
          </button>
        </div>
      </li>
    </ul>
    <button class="nav-btn right" (click)="next()">❯</button>
  </div>
  <div class="d-flex justify-content-center align-items-center">
    <div
      *ngFor="let i of stepList"
      class="mx-2 ms-wizard-step-item"
      [class.ms-wizard-step-item-active]="i == stepIndex()"
    ></div>
  </div>
</div>
